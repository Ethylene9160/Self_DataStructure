# Stack

栈

实现后劲先出（LIFO）的操作。

## 创建一个栈

```c
#include<stdlib.h>
typedef struct {
    ElemType* base;
    ElemType* top;
    int size;
}MStack;

#define INIT_SIZE 100
void initStack(MStack* s) {
    s->base = (ElemType*)malloc(INIT_SIZE * sizeof(ElemType));
    if (!s->base)exit(0);
    s->top = s->base;//init state: the top is the same pointer as the base.
    s->size = INIT_SIZE;
}
```

## 入栈

```c
#include<stdlib.h>
#define STACK_INCREASE 10
void push(MStack* s, ElemType e){
    if(s->top-s->base >= s->size){
        //the stack is full, we need to ask for a lager space.
        s->base = (ElemType*)realloc(s->base, (s->size+STACK_INCREASE)*sizeof(RlemType));
        if(!s->base) exit(0);
        
        s->top = s->base + s->size;//set the top of the stack
        s->size = s->size+STACK_INCREASE;
    }
    *(s->top) = e;
    s->top++;
}
```

## 清空一个栈

```c
void ClearStack(MStack* s){
    s->top = s->base;
}
```

## 销毁一个栈

```c
void DestroyStack(MStack*s){
    int i, len;
    len = size;
    for(i = 0; i < len; i++){
        free(s->base);
        s->base++;
    }
    s->base = s->top = NULL;
    s->size = 0;
}
```

p.s. `getchar()`可以清空键盘缓冲区的缓冲字符。一般用来清除`'\n'`

# 栈的链式结构

